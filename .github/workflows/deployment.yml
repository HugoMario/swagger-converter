name: Deployment
on:
    push:
        branches:
        - master
jobs:
    build:
        runs-on: ubuntu-latest
        strategy:
          matrix:
            java: [ 8 ]
        steps:
        - uses: actions/checkout@v2
        - name: Set up Java
          uses: actions/setup-java@v1
          with:
            java-version: ${{ matrix.java }}
            server-id: ossrh
            server-username: MAVEN_USERNAME
            server-password: MAVEN_PASSWORD
        - name: deploy
          run: |
            mvn deploy -DskipTests=true -Dmaven.javadoc.skip=true -B -V

        env:
          MAVEN_USERNAME: ${{ secrets.OSSRH_USERNAME }}
          MAVEN_PASSWORD: ${{ secrets.OSSRH_TOKEN }}
